{% extends "default.html" %}
{% block title %}Time Report{% endblock %}
{% block header %}Time Report{% endblock %}

{% block content %}
    <h2>Filter Report</h2>
    <form method="GET" action="/reports">
        <label for="employee">Employee:</label>
        <select name="employee" id="employee">
            <option value="">-- All Employees --</option>
            {% for emp in employees %}
                <option value="{{ emp[0] }}">{{ emp[1] }} {{ emp[2] }}</option>
            {% endfor %}
        </select>

        <label for="start">Start Date:</label>
        <input type="date" name="start" id="start">

        <label for="end">End Date:</label>
        <input type="date" name="end" id="end">

        <button type="submit">Filter</button>
    </form>

    <hr>

    <h2>Time Entries</h2>

    {% if entries %}
        <table>
            <tr>
                <th>Employee</th>
                <th>Project</th>
                <th>Start</th>
                <th>Stop</th>
                <th>Minutes</th>
                <th>Notes</th>
            </tr>
            {% for e in entries %}
            <tr>
                <td>{{ e[1] }} {{ e[2] }}</td>  <!-- first_name last_name -->
                <td>{{ e[3] }}</td>             <!-- project_name -->
                <td>{{ e[4] }}</td>             <!-- start_time -->
                <td>{{ e[5] }}</td>             <!-- stop_time -->
                <td>{{ e[6] }}</td>             <!-- total_minutes -->
                <td>{{ e[7] }}</td>             <!-- notes -->
            </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>No time entries found.</p>
    {% endif %}
{% endblock %}
