{% extends "default.html" %}
{% block title %}Projects{% endblock %}
{% block header %}Your Projects{% endblock %}

{% block content %}

    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
        <h2 style="margin: 0;">Team Projects You're Assigned To</h2>
    </div>

    {% if team %}
        <div class="card-grid">
        {% for project in team %}
            <div class="project-card {% if project.owner_id == session['empid'] %}owned{% endif %}">
                <strong>{{ project.name }}</strong>
                {% if project.owner_id == session['empid'] %}
                    <span class="tag">You Own This</span>
                {% endif %}
                <br>
                {% if project.owner_id != session['empid'] %}
                    <small>Owner: <span class="owner-name">{{ project.owner_name }}</span></small>
                {% endif %}
            </div>
        {% endfor %}
        </div>
    {% else %}
        <p>You are not assigned to any team projects.</p>
    {% endif %}

    <br>
    <hr>

    <h2>Personal Projects</h2>
    {% if personal %}
        <div class="card-grid">
        {% for pid, name in personal %}
            <div class="project-card">
                <strong>{{ name }}</strong><br>
                <small>ID: {{ pid }}</small>
            </div>
        {% endfor %}
        </div>
    {% else %}
        <p>You have no personal projects.</p>
    {% endif %}

    <div class="floating-create-button">
        <a href="/create-project"><button>Create New Project</button></a>
    </div>

{% endblock %}
